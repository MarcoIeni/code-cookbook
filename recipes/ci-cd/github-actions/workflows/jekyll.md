# Jekyll Github Actions


## Resources

- [Github Actions CI](https://jekyllrb.com/docs/continuous-integration/github-actions/) - a tutorial I wrote for the Jekyll docs.
- [jekyll-actions-quickstart](https://michaelcurrin.github.io/jekyll-actions-quickstart/) project site of mine including resources


## Actions

I haven't tried all these out and there are a lot more in the marketplace. These build a Jekyll site and deploy to GH Pages.

- [Jekyll 4 Build Deploy](https://github.com/marketplace/actions/jekyll-4-build-deploy)
- [Jekyll Actions](https://github.com/marketplace/actions/jekyll-actions) action - see also the TS one which came from this.
- [Jekyll Deploy GH Pages](https://github.com/marketplace/actions/jekyll-deploy-gh-pages)

### Sample

Here is the config template generated by the Github when it suggests a Jekyll action.

Note that only builds a Jekyll site and **not** persist it or deploy to GH Pages. That can be managed in a separate step, or use one of the marketplace actions which does that all in one. See [Deploy GH Pages](deploy-gh-pages/)

- `main.yml`
    ```yaml
    name: Jekyll site CI

    on:
      push:
        branches: [ master ]
      pull_request:
        branches: [ master ]

    jobs:
      build:
        runs-on: ubuntu-latest

        steps:
        - uses: actions/checkout@v2

        - name: Build the site in the jekyll/builder container
          run: |
            docker run \
            -v ${{ github.workspace }}:/srv/jekyll -v ${{ github.workspace }}/_site:/srv/jekyll/_site \
            jekyll/builder:latest /bin/bash -c "chmod 777 /srv/jekyll && jekyll build --future"
    ```

## Local config

If you need to set values in the environment locally, you could do this with an ignored `.env` file at the root. Youâ€™ll have to to load that into the shell. Some plugins will read from a `.env` file though. 

In this case the only environment variable needed is one needed to actually run the action and build to gh-pages branch, so this project has no `.env` file.

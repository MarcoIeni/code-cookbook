# Build
> Build a Jekyll site in GH Actions

Here we we don't use any specialized actions and don't handle without persisting or publishing. See the link below for deploy to GH Pages.

Related Cookbook pages:

- [GH Pages Actions]({{ site.baseurl }}{% link recipes/ci-cd/github-actions/workflows/jekyll/gh-pages-actions.md %}) page in this Jekyll section.
- [Deploy GH Pages]({{ site.baseurl }}{% link recipes/ci-cd/github-actions/workflows/deploy-gh-pages/index.md %}) as a more generic section which could still be used for Jekyll.
- [Jekyll](({{ site.baseurl }}{% linkrecipes/containers/jekyll.md %}) page in the container section. 


## Sample

### Docker

Below is a workflow generated by the GitHub when it suggests a Jekyll workflow for your project. It uses a `docker run` step without using an Action from the marketplace.

The advantage is you do not have to worry about any Ruby or Gem setup or caching any dependencies. The container image is ready to go. And you can pick a tag like `latest` or `4` to get the latest.


- `main.yml`
    ```yaml
    name: Jekyll site CI

    on:
      push:
        branches:
          - master
      pull_request:
        branches:
          - master

    jobs:
      build:
        runs-on: ubuntu-latest

        steps:
          - uses: actions/checkout@v2

          - name: Build the site in the jekyll/builder container
            run: |
              docker run \
                -v ${{ github.workspace }}:/srv/jekyll \
                -v ${{ github.workspace }}/_site:/srv/jekyll/_site \
                jekyll/builder:latest \
                /bin/bash -c 'chmod 777 /srv/jekyll && jekyll build --future'
    ```
